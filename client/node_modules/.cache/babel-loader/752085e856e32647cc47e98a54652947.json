{"ast":null,"code":"import _classCallCheck from \"/home/kafkae/projects/ts-fullstack-app-notable/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/kafkae/projects/ts-fullstack-app-notable/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/kafkae/projects/ts-fullstack-app-notable/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/kafkae/projects/ts-fullstack-app-notable/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/kafkae/projects/ts-fullstack-app-notable/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/kafkae/projects/ts-fullstack-app-notable/client/src/App.tsx\";\nimport * as React from 'react';\nimport './App.css';\nimport isoFetch from 'isomorphic-fetch';\nimport { Table, Container } from 'react-bootstrap';\n\nvar App =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(App, _React$Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      physicians: []\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.fetchPhysicians();\n    }\n  }, {\n    key: \"handlePhysicianClick\",\n    value: function handlePhysicianClick(id, selectedPhysician) {\n      this.fetchAppointments(id);\n      this.setState({\n        selectedPhysician: selectedPhysician\n      });\n    }\n  }, {\n    key: \"fetchAppointments\",\n    value: function fetchAppointments(id) {\n      var _this2 = this;\n\n      isoFetch(\"http://localhost:3000/api/appointments/\".concat(id)).then(function (res) {\n        return res.json();\n      }).then(function (calendar) {\n        _this2.setState({\n          calendar: calendar\n        });\n      }).catch(function (err) {\n        return err;\n      });\n    }\n  }, {\n    key: \"fetchPhysicians\",\n    value: function fetchPhysicians() {\n      var _this3 = this;\n\n      isoFetch('http://localhost:3000/api/physicians').then(function (res) {\n        return res.json();\n      }).then(function (physicians) {\n        _this3.setState({\n          physicians: physicians\n        });\n      }).catch(function (err) {\n        return err;\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var _this$state = this.state,\n          physicians = _this$state.physicians,\n          calendar = _this$state.calendar,\n          selectedPhysician = _this$state.selectedPhysician;\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(Container, {\n        fluid: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"flex-xl-nowrap row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-xl-2 col-md-3 col-12 p-0 App-sidePanel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        className: \"p-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, \"PHYSICIANS\"), React.createElement(\"ul\", {\n        className: \"physList\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, physicians && physicians.map(function (doc) {\n        return React.createElement(\"li\", {\n          className: \"physList-physician\",\n          key: doc.id,\n          onClick: function onClick(e) {\n            _this4.handlePhysicianClick(doc.id, doc.name);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }, doc.name);\n      }))), React.createElement(\"div\", {\n        className: \"col-xl-8 col-md-9 col-12 App-main\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, selectedPhysician), React.createElement(Table, {\n        striped: true,\n        bordered: true,\n        hover: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, \"#\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, \"Name\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, \"Time\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, \"Kind\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, calendar && calendar.appointments.map(function (appointment) {\n        return React.createElement(\"tr\", {\n          key: appointment.order,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }, appointment.order), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92\n          },\n          __self: this\n        }, appointment.name), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93\n          },\n          __self: this\n        }, appointment.time), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94\n          },\n          __self: this\n        }, appointment.kind));\n      })))))));\n    }\n  }]);\n\n  return App;\n}(React.Component);\n\nexport default App;","map":{"version":3,"sources":["/home/kafkae/projects/ts-fullstack-app-notable/client/src/App.tsx"],"names":["React","isoFetch","Table","Container","App","state","physicians","fetchPhysicians","id","selectedPhysician","fetchAppointments","setState","then","res","json","calendar","catch","err","map","doc","e","handlePhysicianClick","name","appointments","appointment","order","time","kind","Component"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport './App.css';\nimport isoFetch from 'isomorphic-fetch';\nimport { Physician, Calendar } from '../../shared';\nimport { Table, Container } from 'react-bootstrap';\n\nexport interface AppState {\n  physicians: Physician[];\n  calendar?: Calendar;\n  selectedPhysician?: string;\n}\n\nclass App extends React.Component<{}, AppState> {\n\n  public state: AppState = {\n    physicians: []\n  };\n\n  public componentDidMount() {\n    this.fetchPhysicians();\n  }\n\n  private handlePhysicianClick(id: number, selectedPhysician: string) {\n    this.fetchAppointments(id);\n    this.setState({\n      selectedPhysician\n    });\n  }\n\n  private fetchAppointments(id: number): void {\n    isoFetch(`http://localhost:3000/api/appointments/${id}`)\n    .then(res => res.json())\n    .then((calendar: Calendar) => {\n      this.setState({\n        calendar\n      });\n    })\n    .catch(err => err);\n  }\n\n  private fetchPhysicians(): void {\n    isoFetch('http://localhost:3000/api/physicians')\n      .then(res => res.json())\n      .then((physicians: Physician[]) => {\n        this.setState({\n          physicians\n        });\n      })\n      .catch(err => err);\n  }\n\n  public render() {\n    const { physicians, calendar, selectedPhysician } = this.state;\n    return (\n      <div className=\"App\">\n        <Container fluid>\n          <div className=\"flex-xl-nowrap row\">\n            <div className=\"col-xl-2 col-md-3 col-12 p-0 App-sidePanel\">\n              <h3 className=\"p-2\">PHYSICIANS</h3>\n              <ul className=\"physList\">\n                {physicians && physicians.map((doc) => {\n                  return (\n                    <li \n                      className=\"physList-physician\"\n                      key={doc.id} \n                      onClick={(e: React.MouseEvent<HTMLElement>) => { this.handlePhysicianClick(doc.id, doc.name) }}\n                    >\n                      {doc.name}\n                    </li>\n                  );\n                })}\n              </ul>\n            </div>\n            <div className=\"col-xl-8 col-md-9 col-12 App-main\">\n              <h1>{selectedPhysician}</h1>\n              <Table striped bordered hover>\n                <thead>\n                  <tr>\n                    <th>#</th>\n                    <th>Name</th>\n                    <th>Time</th>\n                    <th>Kind</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {calendar && calendar.appointments.map((appointment) => {\n                    return (\n                      <tr \n                        key={appointment.order} \n                      >\n                        <td>{appointment.order}</td>\n                        <td>{appointment.name}</td>\n                        <td>{appointment.time}</td>\n                        <td>{appointment.kind}</td>\n                      </tr>\n                    );\n                  })}\n                </tbody>\n              </Table>\n            </div>\n          </div>\n        </Container>\n      </div>\n    );\n  }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}